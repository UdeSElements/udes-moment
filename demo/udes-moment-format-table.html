<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../../udes-language-mixin/udes-language-mixin.html">
<link rel="import" href="../udes-moment-mixin.html">

<dom-module id="udes-moment-format-table">
  <template>
    <style>
      table {
        font-size: 16px;
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
      }

      tbody {
        display: table-row-group;
        vertical-align: middle;
        border-color: inherit;
      }

      tr {
        display: table-row;
        vertical-align: inherit;
        border-color: inherit;
      }

      td, th {
        border: 1px solid #ddd;
        text-align: left;
        padding: 8px;
      }

      th {
        padding-top: 11px;
        padding-bottom: 11px;
        background-color: #4CAF50;
        color: white;
      }

      tr:nth-child(even) {
        background-color: #f2f2f2;
      }

      table td:nth-child(1) {
        width: 20%;
      }

      table td:nth-child(2) {
        width: 10%;
      }

      table td:nth-child(3) {
        width: 40%;
      }

      table td:nth-child(4) {
        width: 30%;
      }
    </style>

    <!--
    @see These tables come from https://momentjs.com/docs/#/displaying/
    -->
    <h2>Localized formats</h2>
    <paper-button on-tap="toggleLanguage">Toggle language</paper-button>
    <table>
      <tbody>
      <tr>
        <th></th>
        <th>Token</th>
        <th>Output</th>
        <th>Result</th>
      </tr>
      <tr>
        <td><b>Time</b></td>
        <td>LT</td>
        <td>8:30 PM</td>
        <td>[[date(input, inputFormat, 'LT')]]</td>
      </tr>
      <tr>
        <td><b>Time with seconds</b></td>
        <td>LTS</td>
        <td>8:30:25 PM</td>
        <td>[[date(input, inputFormat, 'LTS')]]</td>
      </tr>
      <tr>
        <td><b>Month numeral, day of month, year</b></td>
        <td>L</td>
        <td>09/04/1986</td>
        <td>[[date(input, inputFormat, 'L')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>l</td>
        <td>9/4/1986</td>
        <td>[[date(input, inputFormat, 'l')]]</td>
      </tr>
      <tr>
        <td><b>Month name, day of month, year</b></td>
        <td>LL</td>
        <td>September 4 1986</td>
        <td>[[date(input, inputFormat, 'LL')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>ll</td>
        <td>Sep 4 1986</td>
        <td>[[date(input, inputFormat, 'll')]]</td>
      </tr>
      <tr>
        <td><b>Month name, day of month, year, time</b></td>
        <td>LLL</td>
        <td>September 4 1986 8:30 PM</td>
        <td>[[date(input, inputFormat, 'LLL')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>lll</td>
        <td>Sep 4 1986 8:30 PM</td>
        <td>[[date(input, inputFormat, 'lll')]]</td>
      </tr>
      <tr>
        <td><b>Month name, day of month, day of week, year, time</b></td>
        <td>LLLL</td>
        <td>Thursday, September 4 1986 8:30 PM</td>
        <td>[[date(input, inputFormat, 'LLLL')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>llll</td>
        <td>Thu, Sep 4 1986 8:30 PM</td>
        <td>[[date(input, inputFormat, 'llll')]]</td>
      </tr>
      </tbody>
    </table>

    <h2>Tokens</h2>
    <paper-button on-tap="toggleLanguage">Toggle language</paper-button>
    <table>
      <tbody>
      <tr>
        <th></th>
        <th>Token</th>
        <th>Output</th>
        <th>Result</th>
      </tr>
      <tr>
        <td><b>Month</b></td>
        <td>M</td>
        <td>1 2 ... 11 12</td>
        <td>[[date(input, inputFormat, 'M')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>Mo</td>
        <td>1st 2nd ... 11th 12th</td>
        <td>[[date(input, inputFormat, 'Mo')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>MM</td>
        <td>01 02 ... 11 12</td>
        <td>[[date(input, inputFormat, 'MM')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>MMM</td>
        <td>Jan Feb ... Nov Dec</td>
        <td>[[date(input, inputFormat, 'MMM')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>MMMM</td>
        <td>January February ... November December</td>
        <td>[[date(input, inputFormat, 'MMMM')]]</td>
      </tr>
      <tr>
        <td><b>Quarter</b></td>
        <td>Q</td>
        <td>1 2 3 4</td>
        <td>[[date(input, inputFormat, 'Q')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>Qo</td>
        <td>1st 2nd 3rd 4th</td>
        <td>[[date(input, inputFormat, 'Qo')]]</td>
      </tr>
      <tr>
        <td><b>Day of Month</b></td>
        <td>D</td>
        <td>1 2 ... 30 31</td>
        <td>[[date(input, inputFormat, 'D')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>Do</td>
        <td>1st 2nd ... 30th 31st</td>
        <td>[[date(input, inputFormat, 'Do')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>DD</td>
        <td>01 02 ... 30 31</td>
        <td>[[date(input, inputFormat, 'DD')]]</td>
      </tr>
      <tr>
        <td><b>Day of Year</b></td>
        <td>DDD</td>
        <td>1 2 ... 364 365</td>
        <td>[[date(input, inputFormat, 'DDD')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>DDDo</td>
        <td>1st 2nd ... 364th 365th</td>
        <td>[[date(input, inputFormat, 'DDDo')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>DDDD</td>
        <td>001 002 ... 364 365</td>
        <td>[[date(input, inputFormat, 'DDDD')]]</td>
      </tr>
      <tr>
        <td><b>Day of Week</b></td>
        <td>d</td>
        <td>0 1 ... 5 6</td>
        <td>[[date(input, inputFormat, 'd')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>do</td>
        <td>0th 1st ... 5th 6th</td>
        <td>[[date(input, inputFormat, 'do')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>dd</td>
        <td>Su Mo ... Fr Sa</td>
        <td>[[date(input, inputFormat, 'dd')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>ddd</td>
        <td>Sun Mon ... Fri Sat</td>
        <td>[[date(input, inputFormat, 'ddd')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>dddd</td>
        <td>Sunday Monday ... Friday Saturday</td>
        <td>[[date(input, inputFormat, 'dddd')]]</td>
      </tr>
      <tr>
        <td><b>Day of Week (Locale)</b></td>
        <td>e</td>
        <td>0 1 ... 5 6</td>
        <td>[[date(input, inputFormat, 'e')]]</td>
      </tr>
      <tr>
        <td><b>Day of Week (ISO)</b></td>
        <td>E</td>
        <td>1 2 ... 6 7</td>
        <td>[[date(input, inputFormat, 'E')]]</td>
      </tr>
      <tr>
        <td><b>Week of Year</b></td>
        <td>w</td>
        <td>1 2 ... 52 53</td>
        <td>[[date(input, inputFormat, 'w')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>wo</td>
        <td>1st 2nd ... 52nd 53rd</td>
        <td>[[date(input, inputFormat, 'wo')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>ww</td>
        <td>01 02 ... 52 53</td>
        <td>[[date(input, inputFormat, 'ww')]]</td>
      </tr>
      <tr>
        <td><b>Week of Year (ISO)</b></td>
        <td>W</td>
        <td>1 2 ... 52 53</td>
        <td>[[date(input, inputFormat, 'W')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>Wo</td>
        <td>1st 2nd ... 52nd 53rd</td>
        <td>[[date(input, inputFormat, 'Wo')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>WW</td>
        <td>01 02 ... 52 53</td>
        <td>[[date(input, inputFormat, 'WW')]]</td>
      </tr>
      <tr>
        <td><b>Year</b></td>
        <td>YY</td>
        <td>70 71 ... 29 30</td>
        <td>[[date(input, inputFormat, 'YY')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>YYYY</td>
        <td>1970 1971 ... 2029 2030</td>
        <td>[[date(input, inputFormat, 'YYYY')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>Y</td>
        <td>1970 1971 ... 9999 +10000 +10001
          <br>
          <b>Note:</b> This complies with the ISO 8601 standard for dates past
          the year 9999
        </td>
        <td>[[date(input, inputFormat, 'Y')]]</td>
      </tr>
      <tr>
        <td><b>Week Year</b></td>
        <td>gg</td>
        <td>70 71 ... 29 30</td>
        <td>[[date(input, inputFormat, 'gg')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>gggg</td>
        <td>1970 1971 ... 2029 2030</td>
        <td>[[date(input, inputFormat, 'gggg')]]</td>
      </tr>
      <tr>
        <td><b>Week Year (ISO)</b></td>
        <td>GG</td>
        <td>70 71 ... 29 30</td>
        <td>[[date(input, inputFormat, 'GG')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>GGGG</td>
        <td>1970 1971 ... 2029 2030</td>
        <td>[[date(input, inputFormat, 'GGGG')]]</td>
      </tr>
      <tr>
        <td><b>AM/PM</b></td>
        <td>A</td>
        <td>AM PM</td>
        <td>[[date(input, inputFormat, 'A')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>a</td>
        <td>am pm</td>
        <td>[[date(input, inputFormat, 'a')]]</td>
      </tr>
      <tr>
        <td><b>Hour</b></td>
        <td>H</td>
        <td>0 1 ... 22 23</td>
        <td>[[date(input, inputFormat, 'H')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>HH</td>
        <td>00 01 ... 22 23</td>
        <td>[[date(input, inputFormat, 'HH')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>h</td>
        <td>1 2 ... 11 12</td>
        <td>[[date(input, inputFormat, 'h')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>hh</td>
        <td>01 02 ... 11 12</td>
        <td>[[date(input, inputFormat, 'hh')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>k</td>
        <td>1 2 ... 23 24</td>
        <td>[[date(input, inputFormat, 'k')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>kk</td>
        <td>01 02 ... 23 24</td>
        <td>[[date(input, inputFormat, 'kk')]]</td>
      </tr>
      <tr>
        <td><b>Minute</b></td>
        <td>m</td>
        <td>0 1 ... 58 59</td>
        <td>[[date(input, inputFormat, 'm')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>mm</td>
        <td>00 01 ... 58 59</td>
        <td>[[date(input, inputFormat, 'mm')]]</td>
      </tr>
      <tr>
        <td><b>Second</b></td>
        <td>s</td>
        <td>0 1 ... 58 59</td>
        <td>[[date(input, inputFormat, 's')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>ss</td>
        <td>00 01 ... 58 59</td>
        <td>[[date(input, inputFormat, 'ss')]]</td>
      </tr>
      <tr>
        <td><b>Fractional Second</b></td>
        <td>S</td>
        <td>0 1 ... 8 9</td>
        <td>[[date(input, inputFormat, 'S')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>SS</td>
        <td>00 01 ... 98 99</td>
        <td>[[date(input, inputFormat, 'SS')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>SSS</td>
        <td>000 001 ... 998 999</td>
        <td>[[date(input, inputFormat, 'SSS')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>SSSS ... SSSSSSSSS</td>
        <td>000[0..] 001[0..] ... 998[0..] 999[0..]</td>
        <td>
          <ul>
            <li>SSSS: [[date(input, inputFormat, 'SSSS')]]</li>
            <li>SSSSS: [[date(input, inputFormat, 'SSSSS')]]</li>
            <li>SSSSSS: [[date(input, inputFormat, 'SSSSSS')]]</li>
            <li>SSSSSSS: [[date(input, inputFormat, 'SSSSSSS')]]</li>
            <li>SSSSSSSS: [[date(input, inputFormat, 'SSSSSSSS')]]</li>
            <li>SSSSSSSSS: [[date(input, inputFormat, 'SSSSSSSSS')]]</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><b>Time Zone</b></td>
        <td>z or zz</td>
        <td>
          EST CST ... MST PST
          <br>
          <b>Note:</b> as of <b>1.6.0</b>, the z/zz format tokens have been
          deprecated from plain moment objects. <a
          href="https://github.com/moment/moment/issues/162">Read
          more about it here.</a>
          However, they <em>do</em> work if you are using a specific time zone
          with the moment-timezone addon.
        </td>
        <td>
          <ul>
            <li>z: [[date(input, inputFormat, 'z')]]</li>
            <li>zz: [[date(input, inputFormat, 'zz')]]</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td></td>
        <td>Z</td>
        <td>-07:00 -06:00 ... +06:00 +07:00</td>
        <td>[[date(input, inputFormat, 'Z')]]</td>
      </tr>
      <tr>
        <td></td>
        <td>ZZ</td>
        <td>
          -0700 -0600 ... +0600 +0700
        </td>
        <td>[[date(input, inputFormat, 'ZZ')]]</td>
      </tr>
      <tr>
        <td><b>Unix Timestamp</b></td>
        <td>X</td>
        <td>1360013296</td>
        <td>[[date(input, inputFormat, 'X')]]</td>
      </tr>
      <tr>
        <td><b>Unix Millisecond Timestamp</b></td>
        <td>x</td>
        <td>1360013296123</td>
        <td>[[date(input, inputFormat, 'x')]]</td>
      </tr>
      </tbody>
    </table>
  </template>
  <script>
    /**
     * @polymer
     * @customElement
     * @demo
     * @extends {Polymer.Element}
     * @appliesMixin UdeS.MomentMixin
     * @appliesMixin UdeS.LanguageMixin
     * @appliesMixin Polymer.GestureEventListeners
     */
    class UdeSMomentFormatTable extends UdeS.MomentMixin(UdeS.LanguageMixin(
      Polymer.GestureEventListeners(Polymer.Element))) {
      /**
       * Return the HTML tag.
       * @static
       * @return {String} HTML tag.
       */
      static get is() {
        return 'udes-moment-format-table';
      }

      /**
       * Return the properties.
       * @static
       * @return {Object} Properties.
       */
      static get properties() {
        return {
          /**
           * Date.
           * @public
           */
          input: {
            type: String,
            value: () => Date.now(),
          },

          /**
           * Input format.
           * @public
           */
          inputFormat: {
            type: String,
            value: 'x',
          },

          /**
           * The relative path to Moment.js library.
           * @override UdeS.MomentMixin.momentImportPath
           * @public
           */
          momentImportPath: {
            type: String,
            value: '../..',
          },
        };
      }

      /**
       * Toggle language between French and English.
       * @public
       */
      toggleLanguage() {
        const nextLanguage = this.language === 'fr' ? 'en' : 'fr';
        this.updateLanguage(nextLanguage);
      }
    }

    window.customElements.define(UdeSMomentFormatTable.is, UdeSMomentFormatTable);
  </script>
</dom-module>
